var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},i={},t=e.parcelRequired7c6;null==t&&((t=function(e){if(e in a)return a[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return a[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,a){i[e]=a},e.parcelRequired7c6=t);var r=t("krGWQ"),n=(r=t("krGWQ"),t("iyB0E")),o=t("l0vNa");const s=()=>{const e=document.querySelector(".loader");e&&e.classList.remove("hidden")},l=()=>{const e=document.querySelector(".loader");e&&e.classList.add("hidden")};n=t("iyB0E"),o=t("l0vNa"),r=t("krGWQ");var d=t("7LV6V");let c;async function v(e,a){c=e;let i="";c>1&&(i+='<li class="pagination__item pagination__item_arrows">◄</li> ',i+='<li class="pagination__item">1</li>'),c>4&&(i+='<li class="pagination__item three-drops">...</li>'),c>3&&(i+=`<li class="pagination__item">${c-2}</li>`),c>2&&(i+=`<li class="pagination__item">${c-1}</li>`),i+=`<li class="pagination__item current">${c}</li>`,a-1>c&&(i+=`<li class="pagination__item">${c+1}</li>`),a-2>c&&(i+=`<li class="pagination__item">${c+2}</li>`),a-3>c&&(i+='<li class="pagination__item three-drops">...</li>'),a>c&&(i+=`<li class="pagination__item">${a}</li>`,i+='<li class="pagination__item pagination__item_arrows">►</li>'),r.paginationList.innerHTML=i}r.paginationDiv.addEventListener("click",(async function(e){let a;if("LI"!==e.target.tagName)return;if("..."===e.target.textContent)return;const i=localStorage.getItem("searchSource");if("►"===e.target.textContent){n.apiservice.page=c,n.apiservice.increamentPage(),a="byTrend"===i?await n.apiservice.fetchTrendFilms():await n.apiservice.fetchFilmsByKeyWord();const e=a.data.results;return r.movieContainer.innerHTML=(0,o.renderMarkupSearch)(e),v(a.data.page,a.data.total_pages),void window.scrollTo(0,230)}if("◄"===e.target.textContent){n.apiservice.decrementPage(),a="byTrend"===i?await n.apiservice.fetchTrendFilms():await n.apiservice.fetchFilmsByKeyWord();const e=a.data.results;return r.movieContainer.innerHTML=(0,o.renderMarkupSearch)(e),v(a.data.page,a.data.total_pages),void window.scrollTo(0,230)}{n.apiservice.page=Number(e.target.textContent),a="byTrend"===i?await n.apiservice.fetchTrendFilms():await n.apiservice.fetchFilmsByKeyWord();const t=a.data.results;return r.movieContainer.innerHTML=(0,o.renderMarkupSearch)(t),v(a.data.page,a.data.total_pages),void window.scrollTo(0,230)}})),r.paginationDiv.removeEventListener("click",d.onLibrPaginationClick);o=t("l0vNa"),r=t("krGWQ"),n=t("iyB0E");var p=t("8vRiP");async function m(){try{s(),await n.apiservice.fetchGenres();const e=await n.apiservice.fetchTrendFilms(),a=e.data.results;r.movieContainer.innerHTML=(0,o.renderMarkupSearch)(a),p.observer.observe(r.guard),l(),v(1,e.data.total_pages)}catch(e){console.log(e)}}m();p=t("8vRiP");var u=t("j3p24"),g=t("37v9V"),_=t("baGT8"),y=t("7YAZl");r.headerForm.addEventListener("submit",(async function(e){try{e.preventDefault(),n.apiservice.query=e.currentTarget.keyword.value;const a=e.currentTarget.keyword.value;if(localStorage.setItem("keyWord",a),(0,o.cleanHtml)(),r.paginationDiv.classList.add("visually-hidden"),n.apiservice.page=1,!n.apiservice.query.trim())return r.buttonTop.style.display="none",r.errorText.classList.remove("header__error_hidden"),document.body.classList.add("sad__smile"),r.paginationDiv.classList.add("visually-hidden"),setTimeout((()=>{r.errorText.classList.add("header__error_hidden"),document.body.classList.remove("sad__smile"),r.paginationDiv.classList.remove("visually-hidden"),m()}),2500),void r.headerForm.reset();s();const i=await n.apiservice.fetchFilmsByKeyWord(),t=i.data.results;r.headerForm.reset(),l(),0===t.length?(r.buttonTop.style.display="none",r.errorText.classList.remove("header__error_hidden"),document.body.classList.add("sad__smile"),setTimeout((()=>{r.errorText.classList.add("header__error_hidden"),document.body.classList.remove("sad__smile"),r.paginationDiv.classList.remove("visually-hidden"),m()}),2500),r.headerForm.reset()):(r.movieContainer.innerHTML=(0,o.renderMarkupSearch)(t),r.paginationDiv.classList.remove("visually-hidden"),p.observer.observe(r.guard),v(1,i.data.total_pages),l())}catch(e){console.log(e)}})),r.clicksMovie.addEventListener("click",u.oneToggle),r.closeModalMovieBtn.addEventListener("click",u.closeBtn),r.openModalMovie.addEventListener("click",u.clickBackdropCloseModal),r.modalGallery.addEventListener("click",u.onBtnBack),r.openModalMovie.addEventListener("click",y.onClickModal),r.modalGallery.addEventListener("click",g.onBtnTrailer),r.openModalTeamBtn.addEventListener("click",_.toggleTeamModal);
//# sourceMappingURL=index.64915285.js.map
