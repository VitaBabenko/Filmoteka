{"mappings":"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","sources":["src/index.js","src/js/searchByKeyWord.js","src/js/loader.js","src/js/pagination.js","src/js/renderingGalleryMarkup.js"],"sourcesContent":["import { headerForm, clicksMovie, closeModalMovieBtn, openModalMovie, modalGallery, openModalTeamBtn } from './js/refs';\nimport { onHeaderFormClick } from './js/searchByKeyWord';\nimport { oneToggle, closeBtn, clickBackdropCloseModal, onBtnBack } from './js/modal-movie';\nimport { onBtnTrailer } from './js/trailer';\nimport { toggleTeamModal } from './js/team-modal';\nimport { onClickModal } from './js/modal-btns-library';\n\nheaderForm.addEventListener('submit', onHeaderFormClick);\n\nclicksMovie.addEventListener('click', oneToggle);\ncloseModalMovieBtn.addEventListener('click', closeBtn);\nopenModalMovie.addEventListener('click', clickBackdropCloseModal);\nmodalGallery.addEventListener('click', onBtnBack);\n\nopenModalMovie.addEventListener('click', onClickModal);\n\nmodalGallery.addEventListener('click', onBtnTrailer);\n\nopenModalTeamBtn.addEventListener('click', toggleTeamModal);","import { headerForm, errorText, guard, buttonTop, movieContainer, paginationDiv } from './refs';\nimport { apiservice } from './apiService';\nimport { renderMarkupSearch, cleanHtml } from './markupSearch';\nimport { hideLoader, showLoader } from './loader';\nimport { pagination } from './pagination';\nimport { getMovies } from './renderingGalleryMarkup';\nimport { observer } from './buttonTop';\n\nasync function onHeaderFormClick(evt) {\n  try {\n    evt.preventDefault();\n    apiservice.query = evt.currentTarget.keyword.value;\n    const keyWord = evt.currentTarget.keyword.value;\n    localStorage.setItem('keyWord', keyWord);\n    cleanHtml();\n    paginationDiv.classList.add('visually-hidden');\n    apiservice.page = 1;\n\n    if (!apiservice.query.trim()) {\n      buttonTop.style.display = 'none';\n      errorText.classList.remove('header__error_hidden');\n      document.body.classList.add('sad__smile');\n      paginationDiv.classList.add('visually-hidden');\n      setTimeout(() => {\n        errorText.classList.add('header__error_hidden');\n        document.body.classList.remove('sad__smile');\n        paginationDiv.classList.remove('visually-hidden');\n\n        getMovies();\n      }, 2500);\n      headerForm.reset();\n      return;\n    }\n\n    showLoader();\n    const response = await apiservice.fetchFilmsByKeyWord();\n    const results = response.data.results;\n    headerForm.reset();\n    hideLoader();\n\n    if (results.length === 0) {\n      buttonTop.style.display = 'none';\n      errorText.classList.remove('header__error_hidden');\n      document.body.classList.add('sad__smile');\n\n      setTimeout(() => {\n        errorText.classList.add('header__error_hidden');\n        document.body.classList.remove('sad__smile');\n        paginationDiv.classList.remove('visually-hidden');\n\n        getMovies();\n      }, 2500);\n\n      headerForm.reset();\n    } else {\n      movieContainer.innerHTML = renderMarkupSearch(results);\n      paginationDiv.classList.remove('visually-hidden');\n      observer.observe(guard);\n\n      pagination(1, response.data.total_pages);\n      hideLoader();\n    }\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport { onHeaderFormClick };","const showLoader = () => {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.remove('hidden');\n  }\n};\n\nconst hideLoader = () => {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.add('hidden');\n  }\n};\n\nexport { showLoader, hideLoader };","import { apiservice } from './apiService';\nimport { renderMarkupSearch } from './markupSearch';\nimport { movieContainer, paginationList, paginationDiv } from './refs';\nimport { onLibrPaginationClick } from './libraryMarkup';\n\npaginationDiv.addEventListener('click', clickFunction);\npaginationDiv.removeEventListener('click', onLibrPaginationClick);\n\nlet currentPage;\n\nasync function pagination(currentP, totalPages) {\n  currentPage = currentP;\n\n  let murkup = '';\n  let beforeTwoPage = currentPage - 2;\n  let beforePage = currentPage - 1;\n  let afterPage = currentPage + 1;\n  let afterTwoPage = currentPage + 2;\n\n  if (currentPage > 1) {\n    murkup += `<li class=\"pagination__item pagination__item_arrows\">◄</li> `;\n    murkup += `<li class=\"pagination__item\">1</li>`;\n  }\n\n  if (currentPage > 4) {\n    murkup += `<li class=\"pagination__item three-drops\">...</li>`;\n  }\n\n  if (currentPage > 3) {\n    murkup += `<li class=\"pagination__item\">${beforeTwoPage}</li>`;\n  }\n\n  if (currentPage > 2) {\n    murkup += `<li class=\"pagination__item\">${beforePage}</li>`;\n  }\n\n  murkup += `<li class=\"pagination__item current\">${currentPage}</li>`;\n\n  if (totalPages - 1 > currentPage) {\n    murkup += `<li class=\"pagination__item\">${afterPage}</li>`;\n  }\n\n  if (totalPages - 2 > currentPage) {\n    murkup += `<li class=\"pagination__item\">${afterTwoPage}</li>`;\n  }\n\n  if (totalPages - 3 > currentPage) {\n    murkup += `<li class=\"pagination__item three-drops\">...</li>`;\n  }\n  if (totalPages > currentPage) {\n    murkup += `<li class=\"pagination__item\">${totalPages}</li>`;\n    murkup += `<li class=\"pagination__item pagination__item_arrows\">►</li>`;\n  }\n  paginationList.innerHTML = murkup;\n}\n\nasync function clickFunction(e) {\n  let response;\n\n  if (e.target.tagName !== 'LI') {\n    return;\n  }\n  if (e.target.textContent === '...') {\n    return;\n  }\n\n  const searchToSource = localStorage.getItem('searchSource');\n\n  if (e.target.textContent === '►') {\n    apiservice.page = currentPage;\n    apiservice.increamentPage();\n\n    if (searchToSource === 'byTrend') {\n      response = await apiservice.fetchTrendFilms();\n    } else {\n      response = await apiservice.fetchFilmsByKeyWord();\n    }\n    const results = response.data.results;\n\n    movieContainer.innerHTML = renderMarkupSearch(results);\n    pagination(response.data.page, response.data.total_pages);\n    window.scrollTo(0, 230);\n    return;\n  }\n\n  if (e.target.textContent === '◄') {\n    apiservice.decrementPage();\n\n    if (searchToSource === 'byTrend') {\n      response = await apiservice.fetchTrendFilms();\n    } else {\n      response = await apiservice.fetchFilmsByKeyWord();\n    }\n\n    const results = response.data.results;\n    movieContainer.innerHTML = renderMarkupSearch(results);\n    pagination(response.data.page, response.data.total_pages);\n    window.scrollTo(0, 230);\n    return;\n  }\n\n  if (true) {\n    apiservice.page = Number(e.target.textContent);\n\n    if (searchToSource === 'byTrend') {\n      response = await apiservice.fetchTrendFilms();\n    } else {\n      response = await apiservice.fetchFilmsByKeyWord();\n    }\n\n    const results = response.data.results;\n    movieContainer.innerHTML = renderMarkupSearch(results);\n\n    pagination(response.data.page, response.data.total_pages);\n    window.scrollTo(0, 230);\n    return;\n  }\n}\n\nexport { pagination, clickFunction };","import { renderMarkupSearch } from './markupSearch';\nimport { movieContainer, guard } from './refs';\nimport { apiservice } from './apiService';\nimport { pagination } from './pagination';\nimport { hideLoader, showLoader } from './loader';\nimport { observer } from './buttonTop';\n\ngetMovies();\n\nasync function getMovies() {\n  try {\n    showLoader();\n    await apiservice.fetchGenres();\n    const response = await apiservice.fetchTrendFilms();\n    const results = response.data.results;\n    movieContainer.innerHTML = renderMarkupSearch(results);\n    observer.observe(guard);\n    hideLoader();\n    pagination(1, response.data.total_pages);\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport { getMovies };"],"names":["$krGWQ","parcelRequire","$bdfcdc80b4c38739$export$56525cbb1fcd885c","loader","document","querySelector","classList","remove","$bdfcdc80b4c38739$export$5cee2c2772922923","add","$iyB0E","$1bab9c519cfa82bc$var$currentPage","async","$1bab9c519cfa82bc$export$22fa394f3ba39578","currentP","totalPages","murkup","paginationList","innerHTML","paginationDiv","addEventListener","e","response","target","tagName","textContent","searchToSource","localStorage","getItem","apiservice","page","increamentPage","fetchTrendFilms","fetchFilmsByKeyWord","results","data","movieContainer","$l0vNa","renderMarkupSearch","total_pages","window","scrollTo","decrementPage","Number","removeEventListener","$7LV6V","onLibrPaginationClick","$8dc511da3b87cb69$export$60e1c8f5f122c5ac","fetchGenres","$8vRiP","observer","observe","guard","err","console","log","headerForm","evt","preventDefault","query","currentTarget","keyword","value","keyWord","setItem","cleanHtml","trim","buttonTop","style","display","errorText","body","setTimeout","reset","length","clicksMovie","$j3p24","oneToggle","closeModalMovieBtn","closeBtn","openModalMovie","clickBackdropCloseModal","modalGallery","onBtnBack","$7YAZl","onClickModal","$37v9V","onBtnTrailer","openModalTeamBtn","$baGT8","toggleTeamModal"],"version":3,"file":"index.64915285.js.map"}