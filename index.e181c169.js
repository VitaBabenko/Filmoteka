!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},t.parcelRequired7c6=n);var i,s=n("4Nugj"),o=n("bpxeT"),c=n("2TvXO"),l=(s=n("4Nugj"),n("dh4R1")),d=n("hnyF1"),u=function(){var e=document.querySelector(".loader");e&&e.classList.remove("hidden")},p=function(){var e=document.querySelector(".loader");e&&e.classList.add("hidden")},v=(o=n("bpxeT"),c=n("2TvXO"),l=n("dh4R1"),d=n("hnyF1"),s=n("4Nugj"),n("b3ndh"));function m(e,t){return g.apply(this,arguments)}function g(){return(g=e(o)(e(c).mark((function t(r,a){var n,o,l,d,u;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="",o=(i=r)-2,l=i-1,d=i+1,u=i+2,i>1&&(n+='<li class="pagination__item pagination__item_arrows">◄</li> ',n+='<li class="pagination__item">1</li>'),i>4&&(n+='<li class="pagination__item three-drops">...</li>'),i>3&&(n+='<li class="pagination__item">'.concat(o,"</li>")),i>2&&(n+='<li class="pagination__item">'.concat(l,"</li>")),n+='<li class="pagination__item current">'.concat(i,"</li>"),a-1>i&&(n+='<li class="pagination__item">'.concat(d,"</li>")),a-2>i&&(n+='<li class="pagination__item">'.concat(u,"</li>")),a-3>i&&(n+='<li class="pagination__item three-drops">...</li>'),a>i&&(n+='<li class="pagination__item">'.concat(a,"</li>"),n+='<li class="pagination__item pagination__item_arrows">►</li>'),s.paginationList.innerHTML=n;case 16:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function h(){return(h=e(o)(e(c).mark((function t(r){var a,n,o,u,p;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("LI"===r.target.tagName){e.next=3;break}return e.abrupt("return");case 3:if("..."!==r.target.textContent){e.next=5;break}return e.abrupt("return");case 5:if(n=localStorage.getItem("searchSource"),"►"!==r.target.textContent){e.next=23;break}if(l.apiservice.page=i,l.apiservice.increamentPage(),"byTrend"!==n){e.next=15;break}return e.next=12,l.apiservice.fetchTrendFilms();case 12:a=e.sent,e.next=18;break;case 15:return e.next=17,l.apiservice.fetchFilmsByKeyWord();case 17:a=e.sent;case 18:return o=a.data.results,s.movieContainer.innerHTML=(0,d.renderMarkupSearch)(o),m(a.data.page,a.data.total_pages),window.scrollTo(0,230),e.abrupt("return");case 23:if("◄"!==r.target.textContent){e.next=39;break}if(l.apiservice.decrementPage(),"byTrend"!==n){e.next=31;break}return e.next=28,l.apiservice.fetchTrendFilms();case 28:a=e.sent,e.next=34;break;case 31:return e.next=33,l.apiservice.fetchFilmsByKeyWord();case 33:a=e.sent;case 34:return u=a.data.results,s.movieContainer.innerHTML=(0,d.renderMarkupSearch)(u),m(a.data.page,a.data.total_pages),window.scrollTo(0,230),e.abrupt("return");case 39:if(l.apiservice.page=Number(r.target.textContent),"byTrend"!==n){e.next=46;break}return e.next=43,l.apiservice.fetchTrendFilms();case 43:a=e.sent,e.next=49;break;case 46:return e.next=48,l.apiservice.fetchFilmsByKeyWord();case 48:a=e.sent;case 49:return p=a.data.results,s.movieContainer.innerHTML=(0,d.renderMarkupSearch)(p),m(a.data.page,a.data.total_pages),window.scrollTo(0,230),e.abrupt("return");case 54:case"end":return e.stop()}}),t)})))).apply(this,arguments)}s.paginationDiv.addEventListener("click",(function(e){return h.apply(this,arguments)})),s.paginationDiv.removeEventListener("click",v.onLibrPaginationClick);o=n("bpxeT"),c=n("2TvXO"),d=n("hnyF1"),s=n("4Nugj"),l=n("dh4R1");var f=n("3PzMA");function _(){return y.apply(this,arguments)}function y(){return(y=e(o)(e(c).mark((function t(){var r,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(),e.next=4,l.apiservice.fetchGenres();case 4:return e.next=6,l.apiservice.fetchTrendFilms();case 6:r=e.sent,a=r.data.results,s.movieContainer.innerHTML=(0,d.renderMarkupSearch)(a),f.observer.observe(s.guard),p(),m(1,r.data.total_pages),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),t,null,[[0,14]])})))).apply(this,arguments)}_();f=n("3PzMA");function b(){return(b=e(o)(e(c).mark((function t(r){var a,n,i;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.preventDefault(),l.apiservice.query=r.currentTarget.keyword.value,a=r.currentTarget.keyword.value,localStorage.setItem("keyWord",a),(0,d.cleanHtml)(),s.paginationDiv.classList.add("visually-hidden"),l.apiservice.page=1,l.apiservice.query.trim()){e.next=16;break}return s.buttonTop.style.display="none",s.errorText.classList.remove("header__error_hidden"),document.body.classList.add("sad__smile"),s.paginationDiv.classList.add("visually-hidden"),setTimeout((function(){s.errorText.classList.add("header__error_hidden"),document.body.classList.remove("sad__smile"),s.paginationDiv.classList.remove("visually-hidden"),_()}),2500),s.headerForm.reset(),e.abrupt("return");case 16:return u(),e.next=19,l.apiservice.fetchFilmsByKeyWord();case 19:n=e.sent,i=n.data.results,s.headerForm.reset(),p(),0===i.length?(s.buttonTop.style.display="none",s.errorText.classList.remove("header__error_hidden"),document.body.classList.add("sad__smile"),setTimeout((function(){s.errorText.classList.add("header__error_hidden"),document.body.classList.remove("sad__smile"),s.paginationDiv.classList.remove("visually-hidden"),_()}),2500),s.headerForm.reset()):(s.movieContainer.innerHTML=(0,d.renderMarkupSearch)(i),s.paginationDiv.classList.remove("visually-hidden"),f.observer.observe(s.guard),m(1,n.data.total_pages),p()),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(0),console.log(e.t0);case 29:case"end":return e.stop()}}),t,null,[[0,26]])})))).apply(this,arguments)}var x=n("9tAMN"),k=n("cDXQO"),T=n("ghnK3"),L=n("kpmfB");s.headerForm.addEventListener("submit",(function(e){return b.apply(this,arguments)})),s.clicksMovie.addEventListener("click",x.oneToggle),s.closeModalMovieBtn.addEventListener("click",x.closeBtn),s.openModalMovie.addEventListener("click",x.clickBackdropCloseModal),s.modalGallery.addEventListener("click",x.onBtnBack),s.openModalMovie.addEventListener("click",L.onClickModal),s.modalGallery.addEventListener("click",k.onBtnTrailer),s.openModalTeamBtn.addEventListener("click",T.toggleTeamModal)}();
//# sourceMappingURL=index.e181c169.js.map
