{"mappings":"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","sources":["src/index.js","src/js/pagination.js","src/js/searchByKeyWord.js","src/js/loader.js","src/js/renderingGalleryMarkup.js"],"sourcesContent":["import { headerForm, clicksMovie, closeModalMovieBtn, openModalMovie, modalGallery, openModalTeamBtn } from './js/refs';\nimport { onHeaderFormClick } from './js/searchByKeyWord';\nimport { oneToggle, closeBtn, clickBackdropCloseModal, onBtnBack } from './js/modal-movie';\nimport { onBtnTrailer } from './js/trailer';\nimport { toggleTeamModal } from './js/team-modal';\nimport { onClickModal } from './js/modal-btns-library';\n\nheaderForm.addEventListener('submit', onHeaderFormClick);\n\nclicksMovie.addEventListener('click', oneToggle);\ncloseModalMovieBtn.addEventListener('click', closeBtn);\nopenModalMovie.addEventListener('click', clickBackdropCloseModal);\nmodalGallery.addEventListener('click', onBtnBack);\n\nopenModalMovie.addEventListener('click', onClickModal);\n\nmodalGallery.addEventListener('click', onBtnTrailer);\n\nopenModalTeamBtn.addEventListener('click', toggleTeamModal);","import { apiservice } from './apiService';\nimport { renderMarkupSearch } from './markupSearch';\nimport { movieContainer, paginationList, paginationDiv } from './refs';\nimport { onLibrPaginationClick } from './libraryMarkup';\n\npaginationDiv.addEventListener('click', clickFunction);\npaginationDiv.removeEventListener('click', onLibrPaginationClick);\n\nlet currentPage;\n\nasync function pagination(currentP, totalPages) {\n  currentPage = currentP;\n\n  let murkup = '';\n  let beforeTwoPage = currentPage - 2;\n  let beforePage = currentPage - 1;\n  let afterPage = currentPage + 1;\n  let afterTwoPage = currentPage + 2;\n\n  if (currentPage > 1) {\n    murkup += `<li class=\"pagination__item pagination__item_arrows\">◄</li> `;\n    murkup += `<li class=\"pagination__item\">1</li>`;\n  }\n\n  if (currentPage > 4) {\n    murkup += `<li class=\"pagination__item three-drops\">...</li>`;\n  }\n\n  if (currentPage > 3) {\n    murkup += `<li class=\"pagination__item\">${beforeTwoPage}</li>`;\n  }\n\n  if (currentPage > 2) {\n    murkup += `<li class=\"pagination__item\">${beforePage}</li>`;\n  }\n\n  murkup += `<li class=\"pagination__item current\">${currentPage}</li>`;\n\n  if (totalPages - 1 > currentPage) {\n    murkup += `<li class=\"pagination__item\">${afterPage}</li>`;\n  }\n\n  if (totalPages - 2 > currentPage) {\n    murkup += `<li class=\"pagination__item\">${afterTwoPage}</li>`;\n  }\n\n  if (totalPages - 3 > currentPage) {\n    murkup += `<li class=\"pagination__item three-drops\">...</li>`;\n  }\n  if (totalPages > currentPage) {\n    murkup += `<li class=\"pagination__item\">${totalPages}</li>`;\n    murkup += `<li class=\"pagination__item pagination__item_arrows\">►</li>`;\n  }\n  paginationList.innerHTML = murkup;\n}\n\nasync function clickFunction(e) {\n  let response;\n\n  if (e.target.tagName !== 'LI') {\n    return;\n  }\n  if (e.target.textContent === '...') {\n    return;\n  }\n\n  const searchToSource = localStorage.getItem('searchSource');\n\n  if (e.target.textContent === '►') {\n    apiservice.page = currentPage;\n    apiservice.increamentPage();\n\n    if (searchToSource === 'byTrend') {\n      response = await apiservice.fetchTrendFilms();\n    } else {\n      response = await apiservice.fetchFilmsByKeyWord();\n    }\n    const results = response.data.results;\n\n    movieContainer.innerHTML = renderMarkupSearch(results);\n    pagination(response.data.page, response.data.total_pages);\n    window.scrollTo(0, 230);\n    return;\n  }\n\n  if (e.target.textContent === '◄') {\n    apiservice.decrementPage();\n\n    if (searchToSource === 'byTrend') {\n      response = await apiservice.fetchTrendFilms();\n    } else {\n      response = await apiservice.fetchFilmsByKeyWord();\n    }\n\n    const results = response.data.results;\n    movieContainer.innerHTML = renderMarkupSearch(results);\n    pagination(response.data.page, response.data.total_pages);\n    window.scrollTo(0, 230);\n    return;\n  }\n\n  if (true) {\n    apiservice.page = Number(e.target.textContent);\n\n    if (searchToSource === 'byTrend') {\n      response = await apiservice.fetchTrendFilms();\n    } else {\n      response = await apiservice.fetchFilmsByKeyWord();\n    }\n\n    const results = response.data.results;\n    movieContainer.innerHTML = renderMarkupSearch(results);\n\n    pagination(response.data.page, response.data.total_pages);\n    window.scrollTo(0, 230);\n    return;\n  }\n}\n\nexport { pagination, clickFunction };","import { headerForm, errorText, guard, buttonTop, movieContainer, paginationDiv } from './refs';\nimport { apiservice } from './apiService';\nimport { renderMarkupSearch, cleanHtml } from './markupSearch';\nimport { hideLoader, showLoader } from './loader';\nimport { pagination } from './pagination';\nimport { getMovies } from './renderingGalleryMarkup';\nimport { observer } from './buttonTop';\n\nasync function onHeaderFormClick(evt) {\n  try {\n    evt.preventDefault();\n    apiservice.query = evt.currentTarget.keyword.value;\n    const keyWord = evt.currentTarget.keyword.value;\n    localStorage.setItem('keyWord', keyWord);\n    cleanHtml();\n    paginationDiv.classList.add('visually-hidden');\n    apiservice.page = 1;\n\n    if (!apiservice.query.trim()) {\n      buttonTop.style.display = 'none';\n      errorText.classList.remove('header__error_hidden');\n      document.body.classList.add('sad__smile');\n      paginationDiv.classList.add('visually-hidden');\n      setTimeout(() => {\n        errorText.classList.add('header__error_hidden');\n        document.body.classList.remove('sad__smile');\n        paginationDiv.classList.remove('visually-hidden');\n\n        getMovies();\n      }, 2500);\n      headerForm.reset();\n      return;\n    }\n\n    showLoader();\n    const response = await apiservice.fetchFilmsByKeyWord();\n    const results = response.data.results;\n    headerForm.reset();\n    hideLoader();\n\n    if (results.length === 0) {\n      buttonTop.style.display = 'none';\n      errorText.classList.remove('header__error_hidden');\n      document.body.classList.add('sad__smile');\n\n      setTimeout(() => {\n        errorText.classList.add('header__error_hidden');\n        document.body.classList.remove('sad__smile');\n        paginationDiv.classList.remove('visually-hidden');\n\n        getMovies();\n      }, 2500);\n\n      headerForm.reset();\n    } else {\n      movieContainer.innerHTML = renderMarkupSearch(results);\n      paginationDiv.classList.remove('visually-hidden');\n      observer.observe(guard);\n\n      pagination(1, response.data.total_pages);\n      hideLoader();\n    }\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport { onHeaderFormClick };","const showLoader = () => {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.remove('hidden');\n  }\n};\n\nconst hideLoader = () => {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.add('hidden');\n  }\n};\n\nexport { showLoader, hideLoader };","import { renderMarkupSearch } from './markupSearch';\nimport { movieContainer, guard } from './refs';\nimport { apiservice } from './apiService';\nimport { pagination } from './pagination';\nimport { hideLoader, showLoader } from './loader';\nimport { observer } from './buttonTop';\n\ngetMovies();\n\nasync function getMovies() {\n  try {\n    showLoader();\n    await apiservice.fetchGenres();\n    const response = await apiservice.fetchTrendFilms();\n    const results = response.data.results;\n    movieContainer.innerHTML = renderMarkupSearch(results);\n    observer.observe(guard);\n    hideLoader();\n    pagination(1, response.data.total_pages);\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport { getMovies };"],"names":["$dfaf77c789ce7a24$var$currentPage","$4Nugj","parcelRequire","$bpxeT","$03da642c15b09e5e$export$56525cbb1fcd885c","loader","document","querySelector","classList","remove","$03da642c15b09e5e$export$5cee2c2772922923","add","$dfaf77c789ce7a24$export$22fa394f3ba39578","currentP","totalPages","$dfaf77c789ce7a24$var$_pagination","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","murkup","beforeTwoPage","beforePage","afterPage","afterTwoPage","concat","paginationList","innerHTML","$dfaf77c789ce7a24$var$_clickFunction","e","response","searchToSource","results","results1","results2","target","tagName","textContent","localStorage","getItem","$dh4R1","apiservice","page","increamentPage","fetchTrendFilms","_ctx","sent","fetchFilmsByKeyWord","data","movieContainer","$hnyF1","renderMarkupSearch","total_pages","window","scrollTo","decrementPage","Number","paginationDiv","addEventListener","removeEventListener","$b3ndh","onLibrPaginationClick","$dae789dcd4694041$export$60e1c8f5f122c5ac","$dae789dcd4694041$var$_getMovies","fetchGenres","$3PzMA","observer","observe","guard","console","log","t0","$46335106482ca9fe$var$_onHeaderFormClick","evt","keyWord","preventDefault","query","currentTarget","keyword","value","setItem","cleanHtml","trim","buttonTop","style","display","errorText","body","setTimeout","headerForm","reset","length","clicksMovie","$9tAMN","oneToggle","closeModalMovieBtn","closeBtn","openModalMovie","clickBackdropCloseModal","modalGallery","onBtnBack","$kpmfB","onClickModal","$cDXQO","onBtnTrailer","openModalTeamBtn","$ghnK3","toggleTeamModal"],"version":3,"file":"index.e181c169.js.map"}